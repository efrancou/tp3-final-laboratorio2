{"ast":null,"code":"export const helpHttp = () => {\n  const customFetch = (endopoint, options) => {\n    // esta constante indica que los datos estaran en JSON\n    const defaultHeader = {\n      accept: \"application/json\"\n    }; //auxiliar de peticiones Fetch\n    // se usa para abortar la peticion \n\n    const controller = new AbortController(); // se usa para escuchar eventos\n\n    options.signal = controller.signal;\n    options.method = options.method || \"GET\";\n    options.headers = options.headers ? { ...defaultHeader,\n      ...options.headers\n    } : defaultHeader;\n    options.body = JSON.stringify(options.body) || false;\n    if (!options.body) delete options.body; //setTimeout(() => controller.abort(),3000);\n\n    return fetch(endopoint, options).then(res => res.ok ? res.json() : Promise.reject({\n      err: true,\n      status: res.status || \"00\",\n      statusText: res.statusText || \"Ocurrio un error\"\n    })).catch(err => err);\n  };\n\n  const get = (url, options = {}) => customFetch(url, options);\n\n  const post = (url, options = {}) => {\n    options.method = \"POST\";\n    return customFetch(url, options);\n  };\n\n  const put = (url, options = {}) => {\n    options.method = \"PUT\";\n    return customFetch(url, options);\n  };\n\n  const del = (url, options = {}) => {\n    options.method = \"DELETE\";\n    return customFetch(url, options);\n  };\n\n  return {\n    get,\n    post,\n    put,\n    del\n  };\n};","map":{"version":3,"sources":["/home/hola/Escritorio/laboratorio final/src/Helpers/helphttp.js"],"names":["helpHttp","customFetch","endopoint","options","defaultHeader","accept","controller","AbortController","signal","method","headers","body","JSON","stringify","fetch","then","res","ok","json","Promise","reject","err","status","statusText","catch","get","url","post","put","del"],"mappings":"AAAA,OAAO,MAAMA,QAAQ,GAAG,MAAM;AAC1B,QAAMC,WAAW,GAAG,CAACC,SAAD,EAAYC,OAAZ,KAAwB;AAExC;AACA,UAAMC,aAAa,GAAG;AAClBC,MAAAA,MAAM,EAAC;AADW,KAAtB,CAHwC,CAMxC;AACA;;AACA,UAAMC,UAAU,GAAG,IAAIC,eAAJ,EAAnB,CARwC,CASxC;;AACAJ,IAAAA,OAAO,CAACK,MAAR,GAAiBF,UAAU,CAACE,MAA5B;AAEAL,IAAAA,OAAO,CAACM,MAAR,GAAiBN,OAAO,CAACM,MAAR,IAAkB,KAAnC;AACAN,IAAAA,OAAO,CAACO,OAAR,GAAkBP,OAAO,CAACO,OAAR,GACjB,EAAC,GAAGN,aAAJ;AAAkB,SAAGD,OAAO,CAACO;AAA7B,KADiB,GAEjBN,aAFD;AAGAD,IAAAA,OAAO,CAACQ,IAAR,GAAeC,IAAI,CAACC,SAAL,CAAeV,OAAO,CAACQ,IAAvB,KAA8B,KAA7C;AAEA,QAAG,CAACR,OAAO,CAACQ,IAAZ,EAAkB,OAAOR,OAAO,CAACQ,IAAf,CAlBsB,CAoBxC;;AAEA,WAAOG,KAAK,CAAEZ,SAAF,EAAaC,OAAb,CAAL,CACNY,IADM,CACCC,GAAD,IAAOA,GAAG,CAACC,EAAJ,GACbD,GAAG,CAACE,IAAJ,EADa,GAEbC,OAAO,CAACC,MAAR,CAAe;AACZC,MAAAA,GAAG,EAAE,IADO;AAEZC,MAAAA,MAAM,EAACN,GAAG,CAACM,MAAJ,IAAc,IAFT;AAGZC,MAAAA,UAAU,EAACP,GAAG,CAACO,UAAJ,IAAkB;AAHjB,KAAf,CAHM,EASNC,KATM,CASEH,GAAD,IAAQA,GATT,CAAP;AAWH,GAjCD;;AAmCA,QAAMI,GAAG,GAAG,CAACC,GAAD,EAAKvB,OAAO,GAAC,EAAb,KAAmBF,WAAW,CAACyB,GAAD,EAAKvB,OAAL,CAA1C;;AAGA,QAAMwB,IAAI,GAAG,CAACD,GAAD,EAAKvB,OAAO,GAAC,EAAb,KAAkB;AAC3BA,IAAAA,OAAO,CAACM,MAAR,GAAgB,MAAhB;AACA,WAAOR,WAAW,CAACyB,GAAD,EAAKvB,OAAL,CAAlB;AACH,GAHD;;AAIA,QAAMyB,GAAG,GAAG,CAACF,GAAD,EAAMvB,OAAO,GAAC,EAAd,KAAmB;AAC3BA,IAAAA,OAAO,CAACM,MAAR,GAAgB,KAAhB;AACA,WAAOR,WAAW,CAACyB,GAAD,EAAKvB,OAAL,CAAlB;AACH,GAHD;;AAIA,QAAM0B,GAAG,GAAG,CAACH,GAAD,EAAMvB,OAAO,GAAC,EAAd,KAAmB;AAC3BA,IAAAA,OAAO,CAACM,MAAR,GAAgB,QAAhB;AACA,WAAOR,WAAW,CAACyB,GAAD,EAAMvB,OAAN,CAAlB;AACH,GAHD;;AAKA,SAAM;AACFsB,IAAAA,GADE;AAEFE,IAAAA,IAFE;AAGFC,IAAAA,GAHE;AAIFC,IAAAA;AAJE,GAAN;AAOH,CA3DM","sourcesContent":["export const helpHttp = () => {\n    const customFetch = (endopoint, options) => {\n\n        // esta constante indica que los datos estaran en JSON\n        const defaultHeader = {\n            accept:\"application/json\",\n        };\n        //auxiliar de peticiones Fetch\n        // se usa para abortar la peticion \n        const controller = new AbortController();\n        // se usa para escuchar eventos\n        options.signal = controller.signal;\n\n        options.method = options.method || \"GET\";\n        options.headers = options.headers\n        ?{...defaultHeader,...options.headers}\n        :defaultHeader;\n        options.body = JSON.stringify(options.body)||false;\n\n        if(!options.body) delete options.body;\n        \n        //setTimeout(() => controller.abort(),3000);\n\n        return fetch (endopoint, options)\n        .then ((res)=>res.ok\n        ?res.json()\n        :Promise.reject({\n            err: true,\n            status:res.status || \"00\",\n            statusText:res.statusText || \"Ocurrio un error\",\n\n        }))\n        .catch ((err)=> err);\n\n    };\n\n    const get = (url,options={})=> customFetch(url,options);\n                \n\n    const post = (url,options={})=>{\n        options.method =\"POST\";\n        return customFetch(url,options);\n    };\n    const put = (url, options={})=>{\n        options.method =\"PUT\";\n        return customFetch(url,options);\n    };\n    const del = (url, options={})=>{\n        options.method =\"DELETE\";\n        return customFetch(url, options);\n    };\n    \n    return{\n        get,\n        post,\n        put,\n        del,\n    };\n\n};"]},"metadata":{},"sourceType":"module"}